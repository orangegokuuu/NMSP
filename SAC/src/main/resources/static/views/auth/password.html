<div class="well" >
    <div class="avatar" layout="row" layout-align="center center">
        <i class="fa fa-user-circle fa-4x" aria-hidden="true"></i>
    </div>
    <div ng-if="passwordError" class="alert alert-danger">{{ passwordError | translate}}</div>
    <form name="passwordForm" ng-submit="updatePassword(credentials)" form-autofill-fix>
        <div class="form-group input-narrow">
          <div class="input-group">
            <span class="input-group-addon"><i class="fa fa-user fa-fw"></i></span>
            <input type="text" class="form-control" placeholder="{{'auth.login.msg.02' | translate}}" 
              name="username" ng-model="credentials.username" ng-required="true"/>
          </div>
        </div>
        <div class="alert alert-danger" ng-show="passwordForm.$dirty && passwordForm.username.$error.required" translate>auth.login.err.01</div>
        <div class="form-group input-narrow">
          <div class="input-group">
            <span class="input-group-addon"><i class="fa fa-key fa-fw"></i></span> 
            <input type="password" class="form-control" placeholder="{{'auth.login.msg.03' | translate}}" 
            name="oldPassword" ng-model="credentials.password" ng-required="true"/>
          </div>  
        </div>
        <div class="alert alert-danger" ng-show="passwordForm.$dirty && passwordForm.oldPassword.$error.required" translate>auth.login.err.12</div>
        <hr class="divider"/>
        <div class="form-group input-narrow">
          <div class="input-group">
            <span class="input-group-addon"><i class="fa fa-key fa-fw"></i></span> 
            <input type="password" class="form-control" placeholder="{{'auth.login.msg.06' | translate}}" 
            name="newPassword" ng-model="credentials.newPassword" ng-required="true" validatepwd/>
          </div>  
        </div>
        <div class="form-group input-narrow">
          <div class="input-group">
            <span class="input-group-addon"><i class="fa fa-key fa-fw"></i></span> 
            <input type="password" class="form-control" placeholder="{{'auth.login.msg.07' | translate}}" 
            name="conPassword" ng-model="conPassword" ng-required="true" match="credentials.newPassword"/>
          </div>  
        </div>
        
	  <div  ng-messages="passwordForm.newPassword.$error" class="input-narrow">
	    <div class="alert alert-danger" ng-show="passwordForm.newPassword.$dirty" ng-message="required" translate>auth.login.err.12</div>
	  	<div class="alert alert-danger" ng-show="passwordForm.newPassword.$dirty" ng-message="lowercaseValidator">{{'auth.login.msg.20a'|translate}} {{pwdConfig.lowercase_req}} {{'auth.login.msg.20b'|translate}}</div>
		<div class="alert alert-danger" ng-show="passwordForm.newPassword.$dirty" ng-message="uppercaseValidator">{{'auth.login.msg.20a'|translate}} {{pwdConfig.uppercase_req}} {{'auth.login.msg.20c'|translate}}</div>
		<div class="alert alert-danger" ng-show="passwordForm.newPassword.$dirty" ng-message="specialValidator">{{'auth.login.msg.20a'|translate}} {{pwdConfig.special_req}} {{'auth.login.msg.20d'|translate}}</div>
		<div class="alert alert-danger" ng-show="passwordForm.newPassword.$dirty" ng-message="numberValidator">{{'auth.login.msg.20a'|translate}} {{pwdConfig.num_req}} {{'auth.login.msg.20e'|translate}}</div>
	    <div class="alert alert-danger" ng-show="passwordForm.newPassword.$dirty" ng-message="lengthValidator">{{'auth.login.msg.20a'|translate}} {{"["+ pwdConfig.pwd_minL+ "-" + pwdConfig.pwd_maxL +"]"}} {{'auth.login.msg.20f'|translate}}</div>
	  </div>

      <div  ng-messages="passwordForm.conPassword.$error" class="input-narrow">
        <div class="alert alert-danger" ng-show="passwordForm.$dirty" ng-message="match"
          translate>auth.login.err.10</div>
       </div>
        
        <div layout="row" layout-align="space-between center">
            <button type="submit" class="btn btn-primary" ng-disabled="passwordForm.$invalid" translate>msg.submit</button>
        </div>
    </form>
</div>