package com.ws.ibm.mq.conv.test;

import java.io.FileNotFoundException;
import java.io.IOException;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.springframework.jms.annotation.EnableJms;
import org.springframework.test.context.junit.jupiter.SpringExtension;
import com.ws.ibm.mq.util.MQZipUtil;
import com.ws.util.ByteUtil;
import lombok.extern.log4j.Log4j2;

@Log4j2
public class ZipConvertTest {

	byte[] dataA = ByteUtil.hexStringToByteArray(
			"504B0304140008000800E395814B0000000000000000000000000D000000313531323132353232373434396551DD6E9B3018BDCF5344DC6FB6317140725C4181AE1A286A206BB73B27713342C0B14D52C2D3D769A64C6AAFFC9D239FEFE71C7AD737FBF1496853C976E6A0EFD0198B762D3755BB9D39CB32FDE63B63D3F176C3F7B21533E72C8C73C746B4684C3E673417C6F0AD60B4E47A2B3AE6FB2480D8F302E87A14FC2369218F7A2DC69DACC565080A5382423F7653741F2404429278289AF801F1229210E7A30B8218618209055735A3196FB7C7CBB088825B4D4BD177CCBCA866A5D248FDC429E10B64C073A7A6FDA4C343F8B22A762750F442B5837A55352C1334DF856F073D9F6CC83091CB870066C5EEA0DC5AF332ECF3070949D35B1E2FF31FF7B6B73AAAB256A0992EB3081EF6D5DF278EFEE867D2FAE4F5A44DE3CA157E3A65EBB7BC82E77C48FAACFCEDE5433DB3165CD6A3B1D857D6E4F3421CA4B6F871C3908FDC80208CAD4F16D2E2B86AAA2EE69D60688A5C8890EF4DEDF1FF691ADB04BE7CB891B4E82E4F9C648FBF16B1557E409A682D35831052702DADE4D336E09622B8C63A1ABD03504B0708857EE57C8201000018020000504B01021400140008000800E395814B857EE57C82010000180200000D000000000000000000000000000000000031353132313235323237343439504B050600000000010001003B000000BD0100000000");

	byte[] dataC = ByteUtil.hexStringToByteArray(
			"504B0304140008080800EFBFBD2A4C0000000000000000000000000D000000313531323132353232373434386551EFBFBD6EEFBFBD30147DEFBFBDEFBFBD7FEFBFBD78EFBFBD366C020624EFBFBD55EFBFBD4916054A13C8963D3AEFBFBD4A590306EFBFBD24EFBFBD5F3FEFBFBDEFBFBD52EFBFBD7BEFBFBDEFBFBD1EEFBFBDEFBFBD7B7C0EEFBFBD3FD787D1914B55EFBFBD6662EFBFBDEFBFBDEFBFBD1AEFBFBD14EFBFBDEFBFBDEFBFBD4FEFBFBD7531EFBFBD165823EFBFBD59EFBFBD6307EFBFBDEFBFBDEFBFBD357065DD93EFBFBD5F705EEFBFBD342338EFBFBD4AEFBFBD3D27EFBFBD6072EFBFBD35090214EFBFBD11EFBFBD01EFBFBD1EEFBFBDEFBFBDEFBFBD3817EFBFBD2CEFBFBD48EFBFBD577EEFBFBD02EFBFBDEFBFBDEFBFBD713DEFBFBD4CEFBFBD63187B0044611450EFBFBD3E401452075AEFBFBD5B20EFBFBDEFBFBDEFBFBD4301EFBFBDEFBFBD6CEFBFBD13EFBFBDEFBFBDEFBFBDCBB108DBB71E17EFBFBDEFBFBDEFBFBD3A5607EFBFBD6DEFBFBDD4A6EFBFBDEFBFBDEFBFBDEFBFBD07EFBFBDEFBFBD15426A5EEFBFBD5AEFBFBD793AEFBFBD39EFBFBDEFBFBD28EFBFBDEFBFBD53514650CF987FEFBFBD2FEFBFBDEFBFBDEFBFBD6EEFBFBD0A29EFBFBD535A6CD9B86D7CEFBFBD57EFBFBD734263374B5E3AEFBFBDEFBFBD7A4EEFBFBD71EFBFBD66EFBFBDEFBFBD72EFBFBD6725EFBFBD6B772823EFBFBD3BEFBFBD43421F4EEFBFBD2277EFBFBD7A26EFBFBD451BEFBFBDEFBFBDEFBFBDEFBFBDEFBFBDEFBFBD5346EFBFBD735A6CC2B6041363EFBFBD451EEFBFBDEFBFBD5019EFBFBDEFBFBD156FEFBFBD26EFBFBDEFBFBD3B02EFBFBD1706EFBFBDEFBFBDEFBFBDEFBFBD2733EFBFBDEFBFBDD695EFBFBD4C73027DEFBFBD0008EFBFBD17EFBFBDEFBFBD7FEFBFBDEFBFBDEFBFBD08EFBFBD7B700371EFBFBD2FEFBFBDEFBFBDEFBFBDEFBFBDEFBFBD1AEFBFBDEFBFBDEFBFBD6329EFBFBD2400006C5F5B43EFBFBDEFBFBDC6BEEFBFBD685F63EFBFBD0B504B0708EFBFBD6CEFBFBDEFBFBD01000017020000504B01021400140008080800EFBFBD2A4CEFBFBD6CEFBFBDEFBFBD010000170200000D000000000000000000000000000000000031353132313235323237343438504B050600000000010001003B000000EFBFBD01000000000000000000");

	byte[] dataB =
			"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r\n<SmsMO><Message><Target>886936018615</Target><Source token=\"114C8245D2F1C9E500B9B8D04A169D21\">886916763568</Source><Language>B</Language><Text>svil/aXNsXqmbqFHtEy6YaTortemWKz5tMG2oaS6LDIwTcB1tGa7+SQ5OaS4L6TroUFDTba3pn7DuiQxLDE4OLhqrPkxMq3TpOuhQbjRrPm4ycB2qvcyLDAwMKS4oUGryKpBsU2t+zMwODe2wKX9pc0=</Text><DeliveryReport><Id>1059847475</Id><SubmitDate>1712011659</SubmitDate><DoneDate>1712011659</DoneDate><State>DELIVRD</State><Error>000</Error></DeliveryReport></Message></SmsMO>"
					.getBytes();

	byte[] data1 = ByteUtil.hexStringToByteArray(
			"504b03041400080808003171334c0000000000000000000000000d00000031383031313931343039"
					+ "3033344d8dcb0ac2301045f7f98a217b6deaca4592223ec085203e3e202483a4c4446662d1bfb70b"
					+ "a1bdbbcb3d97a3bbcf33c180c4b16423dba59280d99710f3c3c8fbedb0584be0ea7270a96434f28b"
					+ "2c3b2bf4e97cc11e7db502c6e83d51a16d09685ba556ba99fa6cdf217b8aaf3aaaec310f2ec500d7"
					+ "f2268fb0098190f97f9c83423793eb07504b070853128a3285000000af000000504b010214001400"
					+ "080808003171334c53128a3285000000af0000000d00000000000000000000000000000000003138"
					+ "3031313931343039303334504b050600000000010001003b000000c00000000000");


	@Test
	public void test2() throws FileNotFoundException, IOException {
		byte[] orgData = MQZipUtil.decompress(data1);
		System.out.println(new String(orgData));
		System.out.println(ByteUtil.byteArrayTohexString(orgData));
	}

	// @Test
	public void test3() throws IOException {

		// compress
		byte[] zippedData = MQZipUtil.compress("11927830221", dataB);

		System.out.println(new String(zippedData));
		System.out.println(ByteUtil.byteArrayTohexString(zippedData));

		// decompress
		byte[] orgData = MQZipUtil.decompress(zippedData);
		System.out.println(new String(orgData));
		System.out.println(ByteUtil.byteArrayTohexString(orgData));

	}

}
